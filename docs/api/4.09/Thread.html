<!DOCTYPE HTML>


<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta charset="utf-8"/>
    
    <link href="Thread.html" rel="alternate" hreflang="en"/>

    
    <title>API &#8211; OCaml</title>
    <link href="../../img/favicon32x32.ico?" rel="shortcut icon" type="image/x-icon"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
    <link href="//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"/>
    <link href="//fonts.googleapis.com/css?family=Domine:400,700" rel="stylesheet"/>
    <link href="//fonts.googleapis.com/css?family=Droid+Sans+Mono" rel="stylesheet" type="text/css"/>
    
    <link href="../../css/bootstrap.css" rel="stylesheet" media="screen"/>
    <link href="../../css/bootstrap_mod.css" rel="stylesheet" media="screen"/>
    <link href="../../css/ocamlorg.css" rel="stylesheet" media="screen"/>
    
    
    <link href="style.css" rel="stylesheet"/>
    <script src="../../js/index.js" type="text/javascript"></script>
    <script src="../../js/search.js" type="text/javascript"></script>
    <script src="../../js/collapsed-menu.js" type="text/javascript"></script>
    
    
    <script>
      if (document.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#Image', '1.1')) {
      document.documentElement.className = 'svg';
      }
    </script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <button type="button" class="btn btn-navbar" onclick="toggleVisibilityMenu('menu-items')">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="../../" class="brand"><img src="../../img/colour-logo-white.svg" class="svg" alt="OCaml"/><img src="../../img/colour-logo-white.png" class="png" alt="OCaml"/></a>
          <div id="menu-items" class="nav-collapse collapse">
                        <ul class="nav">
              <li><a href="../../learn/">Learn</a></li>
              <li class="active"><a href="../../docs/">Documentation</a></li>
              <li><a href="https://opam.ocaml.org/">Packages</a></li>
              <li><a href="../../community/">Community</a></li>
              <li><a href="../../community/planet/">News</a></li>
            </ul>

            
            <a href="https://github.com/ocaml/ocaml.org/tree/master/site/api/4.09/Thread.md" title="Edit this page" class="edit-this-page pull-right"><span>Edit this page</span></a>
	    <script language="JavaScript">
	      // Preload the hover image
	      Image1= new Image(33,33);
	      Image1.src = '/img/edit-hover.svg';
	      Image2= new Image(33,33);
	      Image2.src = '/img/edit-hover.png';
	    </script>
            
            <form id="searchform" class="navbar-search pull-right" method="get" action="//www.google.com/search">
              <input type="hidden" name="as_sitesearch" value="ocaml.org"/>
              <input placeholder="Search" class="search-query" name="q" type="text"/>
            </form>
          </div>
        </div>
      </div>
      
    </nav>
    
    
<div class="container">
  <div class="row">
    
    
    
    
    <div id="content-primary" class="span12">
            <div id="tryocaml" class="content" style="display:none;">
        <div class="container">
          <div class="row">
            <div id="lesson-message"></div>
            <div id="languages" style="display:none;"></div>
            <div id="menu-lessons" style="display:none">
              <table class="zebra-striped">
                <tr><td id="text-x"><code></code></td> <td></td></tr>
              </table>
            </div>
            <div class="span9 ocaml">
              <div id="toplevel-container">
                <pre id="output"></pre>
                <div id="sharp">#</div>
                <div id="toplevel"></div>
              </div>
              <div id="buttons"></div>
              <div id="graphics-title"></div>
              <div id="graphics"></div>
            </div>
          </div>
        </div>
      </div>

      
<div class="running-header">
  
  
  <ul class="translations">
    <li class="active">en</li>

  </ul>
</div>

      <div id="main-contents" class="content">
        
<div class="api"><header><nav class="toc brand"><a href="https://ocaml.org/" class="brand"><img src="colour-logo-gray.svg" class="svg" alt="OCaml"/></a></nav><nav class="toc"><div class="toc_version"><a href="../../docs" id="version-select">API Version 4.09</a></div><a href="index.html">&lt; General Index</a><div class="api_search"><input type="text" name="apisearch" id="api_search" oninput="mySearch(false);" onkeypress="this.oninput();" onclick="this.oninput();" onpaste="this.oninput();"/>
<img src="search_icon.svg" alt="Search" class="svg" onclick="mySearch(false)"/></div>
<div id="search_results"></div><div class="toc_title"><a href="#top">Thread</a></div><ul><li><a href="#1_Threadcreationandtermination">Thread creation and termination</a></li><li><a href="#1_Suspendingthreads">Suspending threads</a></li><li><a href="#1_Managementofsignals">Management of signals</a></li></ul></nav></header>

<h1>Module <a href="type_Thread.html">Thread</a></h1>

<pre><span id="MODULEThread"><span class="keyword">module</span> Thread</span>: <code class="code"><span class="keyword">sig</span></code> <a href="Thread.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<div class="info-desc">
<p>Lightweight threads for Posix <code class="code">1003.1c</code> and Win32.</p>
</div>
</div>
<hr width="100%"/>

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>
<div class="info ">
<div class="info-desc">
<p>The type of thread handles.</p>
</div>
</div>

<h2 id="1_Threadcreationandtermination">Thread creation and termination</h2>
<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">('a -&gt; 'b) -&gt; 'a -&gt; <a href="Thread.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code"><span class="constructor">Thread</span>.create&nbsp;funct&nbsp;arg</code> creates a new thread of control,
   in which the function application <code class="code">funct&nbsp;arg</code>
   is executed concurrently with the other threads of the program.
   The application of <code class="code"><span class="constructor">Thread</span>.create</code>
   returns the handle of the newly created thread.
   The new thread terminates when the application <code class="code">funct&nbsp;arg</code>
   returns, either normally or by raising an uncaught exception.
   In the latter case, the exception is printed on standard error,
   but not propagated back to the parent thread. Similarly, the
   result of the application <code class="code">funct&nbsp;arg</code> is discarded and not
   directly accessible to the parent thread.</p>
</div>
</div>

<pre><span id="VALself"><span class="keyword">val</span> self</span> : <code class="type">unit -&gt; <a href="Thread.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Return the thread currently executing.</p>
</div>
</div>

<pre><span id="VALid"><span class="keyword">val</span> id</span> : <code class="type"><a href="Thread.html#TYPEt">t</a> -&gt; int</code></pre><div class="info ">
<div class="info-desc">
<p>Return the identifier of the given thread. A thread identifier
   is an integer that identifies uniquely the thread.
   It can be used to build data structures indexed by threads.</p>
</div>
</div>

<pre><span id="VALexit"><span class="keyword">val</span> exit</span> : <code class="type">unit -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p>Terminate prematurely the currently executing thread.</p>
</div>
</div>

<pre><span id="VALkill"><span class="keyword">val</span> kill</span> : <code class="type"><a href="Thread.html#TYPEt">t</a> -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p>Terminate prematurely the thread whose handle is given.</p>
</div>
</div>
<h2 id="1_Suspendingthreads">Suspending threads</h2>
<pre><span id="VALdelay"><span class="keyword">val</span> delay</span> : <code class="type">float -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">delay&nbsp;d</code> suspends the execution of the calling thread for
   <code class="code">d</code> seconds. The other program threads continue to run during
   this time.</p>
</div>
</div>

<pre><span id="VALjoin"><span class="keyword">val</span> join</span> : <code class="type"><a href="Thread.html#TYPEt">t</a> -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">join&nbsp;th</code> suspends the execution of the calling thread
   until the thread <code class="code">th</code> has terminated.</p>
</div>
</div>

<pre><span id="VALwait_read"><span class="keyword">val</span> wait_read</span> : <code class="type"><a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p>See <a href="Thread.html#VALwait_write"><code class="code"><span class="constructor">Thread</span>.wait_write</code></a>.</p>
</div>
</div>

<pre><span id="VALwait_write"><span class="keyword">val</span> wait_write</span> : <code class="type"><a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p>This function does nothing in this implementation.</p>
</div>
</div>

<pre><span id="VALwait_timed_read"><span class="keyword">val</span> wait_timed_read</span> : <code class="type"><a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> -&gt; float -&gt; bool</code></pre><div class="info ">
<div class="info-desc">
<p>See <a href="Thread.html#VALwait_timed_write"><code class="code"><span class="constructor">Thread</span>.wait_timed_write</code></a>.</p>
</div>
</div>

<pre><span id="VALwait_timed_write"><span class="keyword">val</span> wait_timed_write</span> : <code class="type"><a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> -&gt; float -&gt; bool</code></pre><div class="info ">
<div class="info-desc">
<p>Suspend the execution of the calling thread until at least
   one character or EOF is available for reading (<code class="code">wait_read</code>) or
   one character can be written without blocking (<code class="code">wait_write</code>)
   on the given Unix file descriptor. Wait for at most
   the amount of time given as second argument (in seconds).
   Return <code class="code"><span class="keyword">true</span></code> if the file descriptor is ready for input/output
   and <code class="code"><span class="keyword">false</span></code> if the timeout expired.</p>

<p>These functions return immediately <code class="code"><span class="keyword">true</span></code> in the Win32
   implementation.</p>
</div>
</div>

<pre><span id="VALselect"><span class="keyword">val</span> select</span> : <code class="type"><a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> list -&gt;<br/>       <a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> list -&gt;<br/>       <a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> list -&gt;<br/>       float -&gt; <a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> list * <a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> list * <a href="Unix.html#TYPEfile_descr">Unix.file_descr</a> list</code></pre><div class="info ">
<div class="info-desc">
<p>Suspend the execution of the calling thread until input/output
   becomes possible on the given Unix file descriptors.
   The arguments and results have the same meaning as for
   <code class="code"><span class="constructor">Unix</span>.select</code>.
   This function is not implemented yet under Win32.</p>
</div>
</div>

<pre><span id="VALwait_pid"><span class="keyword">val</span> wait_pid</span> : <code class="type">int -&gt; int * <a href="Unix.html#TYPEprocess_status">Unix.process_status</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">wait_pid&nbsp;p</code> suspends the execution of the calling thread
   until the process specified by the process identifier <code class="code">p</code>
   terminates. Returns the pid of the child caught and
   its termination status, as per <code class="code"><span class="constructor">Unix</span>.wait</code>.
   This function is not implemented under MacOS.</p>
</div>
</div>

<pre><span id="VALyield"><span class="keyword">val</span> yield</span> : <code class="type">unit -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p>Re-schedule the calling thread without suspending it.
   This function can be used to give scheduling hints,
   telling the scheduler that now is a good time to
   switch to other threads.</p>
</div>
</div>
<h2 id="1_Managementofsignals">Management of signals</h2><p>Signal handling follows the POSIX thread model: signals generated
  by a thread are delivered to that thread; signals generated externally
  are delivered to one of the threads that does not block it.
  Each thread possesses a set of blocked signals, which can be modified
  using <a href="Thread.html#VALsigmask"><code class="code"><span class="constructor">Thread</span>.sigmask</code></a>.  This set is inherited at thread creation time.
  Per-thread signal masks are supported only by the system thread library
  under Unix, but not under Win32, nor by the VM thread library.</p>

<pre><span id="VALsigmask"><span class="keyword">val</span> sigmask</span> : <code class="type"><a href="Unix.html#TYPEsigprocmask_command">Unix.sigprocmask_command</a> -&gt; int list -&gt; int list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">sigmask&nbsp;cmd&nbsp;sigs</code> changes the set of blocked signals for the
   calling thread.
   If <code class="code">cmd</code> is <code class="code"><span class="constructor">SIG_SETMASK</span></code>, blocked signals are set to those in
   the list <code class="code">sigs</code>.
   If <code class="code">cmd</code> is <code class="code"><span class="constructor">SIG_BLOCK</span></code>, the signals in <code class="code">sigs</code> are added to
   the set of blocked signals.
   If <code class="code">cmd</code> is <code class="code"><span class="constructor">SIG_UNBLOCK</span></code>, the signals in <code class="code">sigs</code> are removed
   from the set of blocked signals.
   <code class="code">sigmask</code> returns the set of previously blocked signals for the thread.</p>
</div>
</div>

<pre><span id="VALwait_signal"><span class="keyword">val</span> wait_signal</span> : <code class="type">int list -&gt; int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">wait_signal&nbsp;sigs</code> suspends the execution of the calling thread
   until the process receives one of the signals specified in the
   list <code class="code">sigs</code>.  It then returns the number of the signal received.
   Signal handlers attached to the signals in <code class="code">sigs</code> will not
   be invoked.  The signals <code class="code">sigs</code> are expected to be blocked before
   calling <code class="code">wait_signal</code>.</p>
</div>
</div>

<div class="copyright">The present documentation is copyright Institut National de Recherche en Informatique et en Automatique (INRIA). A complete version can be obtained from <a href="http://caml.inria.fr/pub/docs/manual-ocaml/">this page</a>.</div></div>

      </div>
    </div>
  </div>
</div>

    
    <footer id="footer" class="navbar navbar-inverse">
      <div class="navbar-inner">
	
<div class="column">
  <div class="entry">
    <h1><a href="../../learn/">Learn</a></h1>
    <ul>
      <li><a href="../../learn/taste.html">Code Examples</a></li>
      <li><a href="../../learn/tutorials/">Tutorials</a></li>
      <li><a href="../../learn/books.html">Books</a></li>
      <li><a href="../../learn/success.html">Success Stories</a></li>
      <li><a href="."></a></li>
    </ul>
  </div>
</div>
<div class="column">
  <div class="entry">
    <h1><a href="../../docs/">Documentation</a></h1>
    <ul>
      <li><a href="../../docs/install.html">Install</a></li>
      <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/">Manual</a></li>
      <li><a href="https://opam.ocaml.org/packages/">Packages</a></li>
      <li><a href="../../releases/index.html">Compiler Releases</a></li>
      <li><a href="../../docs/logos.html">Logos</a></li>
    </ul>
  </div>
</div>
<div class="column">
  <div class="entry">
    <h1><a href="../../community/">Community</a></h1>
    <ul>
      <li><a href="../../community/mailing_lists.html">Mailing Lists</a></li>
      <li><a href="../../meetings/">Meetings</a></li>
      <li><a href="../../community/planet/">News</a></li>
      <li><a href="../../community/support.html">Support</a></li>
      <li><a href="http://caml.inria.fr/mantis/my_view_page.php" target="_blank">Bug Tracker</a></li>
    </ul>
  </div>
</div>

<div class="column">
  <div class="entry">
    <h1>Website</h1>
    <ul>
      <li><a href="https://github.com/ocaml/ocaml.org/tree/master/site/api/4.09/Thread.md" target="_blank">Edit this page</a></li>
      <li><a href="https://github.com/ocaml/ocaml.org/issues" target="_blank">Website Issues</a></li>
      <li><a href="../../about.html">About This Site</a></li>
    <li><a href="https://github.com/ocaml/ocaml.org/" target="_blank">Find Us on GitHub</a></li>
      <li><a href="../../contributors.html">Credits</a></li>
    </ul>
  </div>
</div>

      </div>
    </footer>
    
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js" type="text/javascript"></script>

     

  </body>
</html>
