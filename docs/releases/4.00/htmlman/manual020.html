<!DOCTYPE HTML>

<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII"/>
<meta name="GENERATOR" content="hevea 1.10"/>
<link href="manual.css" rel="stylesheet" type="text/css"/>
<title>Compilation units</title>
</head>
<body>
<a href="manual019.html"><img src="previous_motif.gif" alt="Previous"/></a>
<a href="language.html"><img src="contents_motif.gif" alt="Up"/></a>
<hr/>
<h2 class="section"><a name="htoc91">6.12</a>&#XA0;&#XA0;Compilation units</h2><table class="display dcenter"><tr valign="middle"><td class="dcell"><table cellspacing="6" cellpadding="0"><tr><td align="right" nowrap="nowrap">
<i><a name="unit-interface" class="syntax"><font color="maroon">unit-interface</font></a></i></td><td align="center" nowrap="nowrap">::=</td><td align="left" nowrap="nowrap">&#XA0;{&#XA0;<i><a href="manual018.html#specification" class="syntax"><font color="maroon">specification</font></a></i>&#XA0;&#XA0;[<font color="blue"><tt>;;</tt></font>]&#XA0;}
&#XA0;</td></tr>
<tr><td align="right" nowrap="nowrap">&nbsp;</td></tr>
<tr><td align="right" nowrap="nowrap">
<i><a name="unit-implementation" class="syntax"><font color="maroon">unit-implementation</font></a></i></td><td align="center" nowrap="nowrap">::=</td><td align="left" nowrap="nowrap">&#XA0;{&#XA0;<i><a href="manual019.html#definition" class="syntax"><font color="maroon">definition</font></a></i>&#XA0;&#XA0;[<font color="blue"><tt>;;</tt></font>]&#XA0;}</td></tr>
</table></td></tr>
</table><p>Compilation units bridge the module system and the separate
compilation system. A compilation unit is composed of two parts: an
interface and an implementation. The interface contains a sequence of
specifications, just as the inside of a <font color="blue"><tt>sig</tt></font> &#X2026; <font color="blue"><tt>end</tt></font>
signature expression. The implementation contains a sequence of
definitions, just as the inside of a <font color="blue"><tt>struct</tt></font> &#X2026; <font color="blue"><tt>end</tt></font> module
expression. A compilation unit also has a name <font color="maroon"><i>unit-name</i></font>, derived
from the names of the files containing the interface and the
implementation (see chapter&#XA0;<a href="manual022.html#c:camlc">8</a> for more details). A
compilation unit behaves roughly as the module definition
</p><div class="center">
<font color="blue"><tt>module</tt> <font color="maroon"><i>unit-name</i></font> <tt>:</tt> <tt>sig</tt></font> &#XA0;<i><a href="#unit-interface" class="syntax"><font color="maroon">unit-interface</font></a></i> <font color="blue"><tt>end</tt> <tt>=</tt>
<tt>struct</tt></font> &#XA0;<i><a href="#unit-implementation" class="syntax"><font color="maroon">unit-implementation</font></a></i> <font color="blue"><tt>end</tt></font>
</div><p>A compilation unit can refer to other compilation units by their
names, as if they were regular modules. For instance, if <tt>U</tt> is a
compilation unit that defines a type <tt>t</tt>, other compilation units can
refer to that type under the name <tt>U.t</tt>; they can also refer to <tt>U</tt> as
a whole structure. Except for names of other compilation units, a unit
interface or unit implementation must not have any other free variables.
In other terms, the type-checking and compilation of an interface or
implementation proceeds in the initial environment
</p><div class="center">
<font color="maroon"><i>name</i></font><sub>1</sub> <font color="blue"><tt>:</tt> <tt>sig</tt></font> &#XA0;<i><a href="manual018.html#specification" class="syntax"><font color="maroon">specification</font></a></i><sub>1</sub> <font color="blue"><tt>end</tt></font> &#X2026;
&#XA0;<i><font color="maroon">name</font><sub>n</sub></i> <font color="blue"><tt>:</tt> <tt>sig</tt></font> &#XA0;<i><a href="manual018.html#specification" class="syntax"><font color="maroon">specification</font></a><sub>n</sub></i> <font color="blue"><tt>end</tt></font>
</div><p>
where <font color="maroon"><i>name</i></font><sub>1</sub> &#X2026; &#XA0;<i><font color="maroon">name</font><sub>n</sub></i> are the names of the other
compilation units available in the search path (see
chapter&#XA0;<a href="manual022.html#c:camlc">8</a> for more details) and <i><a href="manual018.html#specification" class="syntax"><font color="maroon">specification</font></a></i><sub>1</sub> &#X2026;
&#XA0;<i><a href="manual018.html#specification" class="syntax"><font color="maroon">specification</font></a><sub>n</sub></i> are their respective interfaces.

</p><hr/>
<a href="manual019.html"><img src="previous_motif.gif" alt="Previous"/></a>
<a href="language.html"><img src="contents_motif.gif" alt="Up"/></a>
</body>
</html>
